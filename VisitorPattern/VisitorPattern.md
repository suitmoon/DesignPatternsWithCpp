# 访问器模式
访问器模式（Visitor Pattern）是行为型设计模式,专门处理多个对象结构的访问，依赖于对象的类型。访问器能够根据对象的具体类型执行合适的操作，而无需修改对象的类。
**模式特点：双重分发(double dispatch）**
**什么是双重分发？**
	在传统的单一分发机制中，方法调用仅根据调用者的类型来决定具体执行哪个方法。例如，在多态中，只会根据调用方法的对象类型来选择实现的版本。
	双重分发则引入了第二个参数的类型，使得方法的选择不仅取决于调用者的类型，还取决于参数的类型。在访问器模式中，双重分发是一种关键机制，用于确保在请求时可以根据对象的具体类型动态地选择适当的行为。双重分发允许系统在运行时根据两个不同对象的类型来确定调用哪个方法。
	

Visitor模式通过双重分发来实现在不更改(不添加新的操作-编译时)Element类层次结构的前提下，在运行时透明地为类层次结构上的各个类动态添加新的操作（支持变化)。

**缺点：** 访问器模式要求元素的具体类（即被访问的类）必须是固定的，因为每个新元素都需要在访问者接口中实现一个新的访问方法。这意味着如果要从外部系统中引入新的元素，或者对现有的元素层次结构进行修改，你需要修改所有访问者类。

### 访问器模式的组成
1. **访问者接口（Visitor Interface）**: 定义对每个元素的访问方法。
2. **具体访问者（Concrete Visitor）**: 实现访问者接口，定义具体的操作。
3. **元素接口（Element Interface）**: 定义接受访问者的接口。
4. **具体元素（Concrete Element）**: 实现元素接口，定义可被访问的对象。
5. **对象结构（Object Structure）**: 维护元素的集合，支持接受访问者。

实现功能扩展区分于装饰模式，它们的关注点完全不同：
  装饰模式关注于动态增强单个对象的功能，
  而访问器模式关注于对多个不同类型结构进行操作的能力。
  