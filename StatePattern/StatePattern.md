# 状态模式

**状态模式**（State Pattern）是一种行为型设计模式，它允许一个对象在其**内部状态改变时改变其行为**，并且状态在运行时可以改变（从编译时确定转为运行时确定，更加灵活）。

状态模式的核心思想是：**将对象的状态封装成独立的类**，并将对象的行为委托给当前状态对象。

State模式将所有与一个特定状态相关的行为都放入一个state的子类对象中，在对象状态切换时，切换相应的状态。但同时维持State的接口，这样实现了具体操作与状态转换之间的解耦。
状态的变化对使用者是透明的，即使用者不需要关心对象的当前状态，直接调用接口即可。


### 状态模式的结构

状态模式通常包含以下几个角色：
1. **上下文（Context）**: 维护一个当前状态的引用，并将与状态相关的行为委托给当前状态对象。上下文通常包含一个 setState 方法，用于切换状态。
2. **状态接口（State）**: 定义状态的接口，通常包含多个方法，用于处理与状态相关的行为。
3. **具体状态（ConcreteState）**: 实现状态接口，处理对应状态的具体行为。具体状态对象通常包含一个指向上下文对象的引用，并在需要时切换上下文的状态。


### 状态模式的应用场景
1. **对象的行为依赖于其状态**：
    - 当对象的行为依赖于其状态，并且状态转换逻辑复杂时，可以使用状态模式。
2. **需要避免大量的条件语句**：
    - 当需要避免使用大量的条件语句来处理状态相关的行为时，可以使用状态模式。
3. **状态转换逻辑需要封装**：
    - 当需要将状态转换逻辑封装到独立的类中时，可以使用状态模式。


